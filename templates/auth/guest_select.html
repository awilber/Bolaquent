{% extends "base.html" %}

{% block title %}Demo - Choose Your Level - Bolaquent{% endblock %}

{% block body_class %}hero-page hero-welcome{% endblock %}

{% block content %}
<div class="hero-content-wrapper">
    <div style="position: relative; z-index: 2; padding: 2rem; width: 100%; max-width: 1200px; margin: 0 auto;">
        <!-- Header with Contrast Panel -->
        <div style="background: rgba(0, 0, 0, 0.75); padding: 2rem; border-radius: 16px; margin-bottom: 2rem; backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1);">
            <h2 style="margin: 0 0 1rem 0; color: white;">üéâ Try Bolaquent Demo</h2>
            <p style="margin: 0; color: rgba(255, 255, 255, 0.9); font-size: 1.1em;">
                Choose your age tier to experience personalized vocabulary learning. 
                <strong>No registration required - just pick and start!</strong>
            </p>
        </div>

        <!-- Tier Selection with Contrast Panel -->
        <div style="background: rgba(0, 0, 0, 0.75); padding: 2rem; border-radius: 16px; margin-bottom: 2rem; backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1);">
            <form method="POST" action="{{ url_for('auth.start_guest_session') }}" id="guest-form">
    <div class="age-tiers" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; margin: 20px 0;">
        <div class="tier-card playful" onclick="selectTier(1, 3)" data-tier="1" style="border: 3px solid transparent; border-radius: 16px; padding: 20px; background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(255, 107, 107, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üß∏</div>
            <h3 style="color: #d53f8c; margin: 10px 0; font-family: 'Comic Sans MS', cursive;">Early Verbal</h3>
            <p style="color: #2d3748; font-weight: bold; margin: 5px 0;">Ages 2-3</p>
            <p style="color: #4a5568; font-size: 0.9em; margin: 10px 0;">Basic words and simple concepts</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #ff6b6b; color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>

        <div class="tier-card playful" onclick="selectTier(2, 5)" data-tier="2" style="border: 3px solid transparent; border-radius: 16px; padding: 20px; background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(255, 107, 107, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üé®</div>
            <h3 style="color: #d53f8c; margin: 10px 0; font-family: 'Comic Sans MS', cursive;">Preschool</h3>
            <p style="color: #2d3748; font-weight: bold; margin: 5px 0;">Ages 4-5</p>
            <p style="color: #4a5568; font-size: 0.9em; margin: 10px 0;">Expanded vocabulary and emotions</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #ff6b6b; color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>

        <div class="tier-card educational" onclick="selectTier(3, 8)" data-tier="3" style="border: 3px solid transparent; border-radius: 12px; padding: 20px; background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üìö</div>
            <h3 style="color: #0369a1; margin: 10px 0; font-weight: bold;">Elementary</h3>
            <p style="color: #1e293b; font-weight: bold; margin: 5px 0;">Ages 6-10</p>
            <p style="color: #475569; font-size: 0.9em; margin: 10px 0;">Academic foundation and reading</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #10b981; color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>

        <div class="tier-card educational" onclick="selectTier(4, 12)" data-tier="4" style="border: 3px solid transparent; border-radius: 12px; padding: 20px; background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üß†</div>
            <h3 style="color: #0369a1; margin: 10px 0; font-weight: bold;">Middle School</h3>
            <p style="color: #1e293b; font-weight: bold; margin: 5px 0;">Ages 11-14</p>
            <p style="color: #475569; font-size: 0.9em; margin: 10px 0;">Abstract thinking and analysis</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #10b981; color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>

        <div class="tier-card professional" onclick="selectTier(5, 16)" data-tier="5" style="border: 3px solid transparent; border-radius: 8px; padding: 20px; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(71, 85, 105, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üéì</div>
            <h3 style="color: #1e293b; margin: 10px 0; font-weight: bold;">High School</h3>
            <p style="color: #334155; font-weight: bold; margin: 5px 0;">Ages 15-18</p>
            <p style="color: #64748b; font-size: 0.9em; margin: 10px 0;">Advanced academic vocabulary</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #475569; color: white; padding: 8px 16px; border-radius: 6px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>

        <div class="tier-card professional" onclick="selectTier(6, 25)" data-tier="6" style="border: 3px solid transparent; border-radius: 8px; padding: 20px; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); cursor: pointer; text-align: center; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(71, 85, 105, 0.2);">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üíº</div>
            <h3 style="color: #1e293b; margin: 10px 0; font-weight: bold;">Adult</h3>
            <p style="color: #334155; font-weight: bold; margin: 5px 0;">Ages 18+</p>
            <p style="color: #64748b; font-size: 0.9em; margin: 10px 0;">Professional and technical terms</p>
            <div class="demo-link" style="margin-top: 15px;">
                <span class="btn-demo" style="background: #475569; color: white; padding: 8px 16px; border-radius: 6px; font-size: 0.9em; font-weight: bold;">Try This Level</span>
            </div>
        </div>
    </div>
    
    <input type="hidden" name="age" id="selected-age">
    <input type="hidden" name="tier_id" id="selected-tier">
    
    <div style="text-align: center; margin: 30px 0;">
        <button type="submit" class="btn btn-primary" id="continue-btn" disabled style="padding: 15px 30px; font-size: 1.2em; background: #6b7280; color: white; border: none; border-radius: 8px; cursor: not-allowed; transition: all 0.3s ease;">
            Continue as Guest
        </button>
            </div>
            </form>
        </div>

        <!-- Footer with Contrast Panel -->
        <div style="background: rgba(0, 0, 0, 0.75); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1); text-align: center;">
            <p style="margin: 0; color: rgba(255, 255, 255, 0.9);">
                <a href="{{ url_for('auth.login') }}" style="color: rgba(255, 255, 255, 0.9); text-decoration: none;">‚Üê Back to Login</a>
            </p>
        </div>
    </div>
</div>

<script>
function selectTier(tierId, age) {
    // Clear previous selection
    document.querySelectorAll('.tier-card').forEach(card => {
        card.style.borderColor = 'transparent';
        card.style.transform = 'scale(1)';
    });
    
    // Highlight selected tier
    const selectedCard = document.querySelector(`[data-tier="${tierId}"]`);
    selectedCard.style.borderColor = '#3b82f6';
    selectedCard.style.transform = 'scale(1.02)';
    selectedCard.style.boxShadow = '0 8px 24px rgba(59, 130, 246, 0.3)';
    
    // Set form values
    document.getElementById('selected-age').value = age;
    document.getElementById('selected-tier').value = tierId;
    
    // Enable continue button
    const continueBtn = document.getElementById('continue-btn');
    continueBtn.disabled = false;
    continueBtn.style.background = '#3b82f6';
    continueBtn.style.cursor = 'pointer';
    continueBtn.textContent = `Continue as Guest (${selectedCard.querySelector('h3').textContent} Level)`;
}

// Mobile enhancements
document.addEventListener('DOMContentLoaded', function() {
    // Touch feedback for mobile
    document.querySelectorAll('.tier-card').forEach(card => {
        card.addEventListener('touchstart', function() {
            this.style.transform = 'scale(0.98)';
        });
        
        card.addEventListener('touchend', function() {
            setTimeout(() => {
                if (this.style.borderColor !== 'rgb(59, 130, 246)') {
                    this.style.transform = 'scale(1)';
                }
            }, 150);
        });
    });
});
</script>

<style>
@media (max-width: 768px) {
    .age-tiers {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)) !important;
        gap: 12px !important;
    }
    
    .tier-card {
        padding: 16px !important;
        min-height: 44px;
    }
    
    .tier-card h3 {
        font-size: 1.2em !important;
    }
    
    .tier-card p {
        font-size: 0.85em !important;
    }
}

@media (max-width: 480px) {
    .age-tiers {
        grid-template-columns: 1fr !important;
    }
    
    .tier-card {
        text-align: left !important;
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .tier-card > div:first-child {
        flex-shrink: 0;
        font-size: 2em !important;
        margin-bottom: 0 !important;
    }
    
    .tier-card .demo-link {
        margin-top: 5px !important;
        margin-left: auto;
    }
}
</style>
{% endblock %}